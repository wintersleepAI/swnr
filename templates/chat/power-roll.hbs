<div class="chat-card">
  <h3 title="{{ power.system.description }}">{{ power.name }}</h3>

  <div class="chat-desc">
    {{#if (wouldTrim power.system.description 200)}}
      <span class="hiddenShort">
        {{{trim power.system.description 200}}}
        <div class="border border-gray-700 placeholder-blue-800 pt-0">
          <button class="longShowDesc">{{localize "swnr.sheet.showLongDesc"}}</button>
        </div>
      </span>
      <div class="border border-gray-700 placeholder-blue-800 pt-0">
        <span style="display:none" class="hiddenLong">
        {{{ power.system.description }}}
        <button class="longHideDesc">{{localize "swnr.sheet.hideLongDesc"}}</button>
        </span>
      </div>
    {{else}}
      <span>
        {{{power.system.description }}}
      </span>
    {{/if}}
  </div>

  {{#if power.system.range}}
      <div >
        {{localize 'swnr.sheet.powers.range'}}: {{ power.system.range }}
      </div>
  {{/if}}

  {{#if power.system.duration}}
      <div >
        {{localize 'swnr.sheet.powers.duration'}}: {{ power.system.duration }}
      </div>
  {{/if}}

  {{#if power.system.roll}}
    <span>{{localize 'swnr.sheet.powers.roll'}}:</span>
    <span class="roll roll-damage">{{{ powerRoll }}}</span>
  {{/if}}

  {{#if power.system.save}}
  <div class="card-buttons">
      <button data-action="save" data-save="{{power.system.save}}">
          {{localize "swnr.sheet.powers.save"}} {{power.system.save}}
      </button>
  </div>
  {{/if}}

  {{#if power.system.skill}}
  <div class="card-buttons">
      <button data-action="skill" data-skill="{{power.system.skill}}">
          {{power.system.skill}}
      </button>
  </div>
  {{/if}}


  {{! Resource spending button for unified power system }}
  {{#if power.system.consumptions.length}}
  <div class="card-buttons">
      <button data-action="use-power" data-power-id="{{power.id}}" data-actor-id="{{actor.id}}">
          {{localize "swnr.sheet.spendResources"}}
          {{#each power.system.consumptions}}
            {{#if (ne type "none")}}
              {{#if (eq type "poolResource")}}
                ({{usesCost}} {{resourceName}}{{#if subResource}}:{{subResource}}{{/if}})
              {{else if (eq type "systemStrain")}}
                ({{usesCost}} {{localize "swnr.consumption.systemStrain"}})
              {{else if (eq type "uses")}}
                ({{usesCost}} {{localize "swnr.consumption.uses"}})
              {{else if (eq type "consumableItem")}}
                ({{usesCost}} {{localize "swnr.consumption.consumableItem"}})
              {{/if}}
            {{/if}}
          {{/each}}
      </button>
  </div>
  {{/if}}
</div>
